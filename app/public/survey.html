<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <title>Survey: Neato Friend Finder</title>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous">
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous">
    </script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous">
    </script>
</head>

<header>
    <h1>Here's the survey! Prepare to have your mind blown!</h1>
</header>

<body>

    <h4>Please tell us your name (it's required!)</h4>
    <input type="text" name="" id="name" class="form-control" required />
    <hr />

    <div class="formgroup">
        <label>
            <h1> Question 1: </h1>Derek: What's with that guy?
        </label>
        <select id="quest1">
            <option value="1">1(Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3(mayyyyyyyyyyyyybe)</option>
            <option value="4">4</option>
            <option value="5">5(Strongly Agree)</option>
        </select>
    </div>


    <div class="formgroup">
        <label>
            <h1> Question 2: </h1>Have you tried making ribs in an InstaPot?
        </label>
        <select id="quest2">
            <option value="1">1(Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3(mayyyyyyyyyyyyybe)</option>
            <option value="4">4</option>
            <option value="5">5(Strongly Agree)</option>
        </select>
    </div>

    <div class="formgroup">
        <label>
            <h1> Question 3: </h1>How ya got in the Utah-San Antonio game on Tuesday?
        </label>
        <select id="quest3">
            <option value="1">1(Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3(mayyyyyyyyyyyyybe)</option>
            <option value="4">4</option>
            <option value="5">5(Strongly Agree)</option>
        </select>
    </div>

    <div class="formgroup">
        <label>
            <h1> Question 4: </h1>What's the deal with essential oils? Seriously!
        </label>
        <select id="quest4">
            <option value="1">1(Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3(mayyyyyyyyyyyyybe)</option>
            <option value="4">4</option>
            <option value="5">5(Strongly Agree)</option>
        </select>
    </div>

    <div class="formgroup">
        <label>
            <h1> Question 5: </h1>A lot of people don't know this, but I was nicknamed "Bocephus" by my legendary father
            Hank Williams Sr.
        </label>
        <select id="quest5">
            <option value="1">1(Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3(mayyyyyyyyyyyyybe)</option>
            <option value="4">4</option>
            <option value="5">5(Strongly Agree)</option>
        </select>
    </div>

    <div class="formgroup">
        <label>
            <h1> Question 6: </h1>This question can be answered only on Fridays
        </label>
        <select id="quest6">
            <option value="1">1(Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3(mayyyyyyyyyyyyybe)</option>
            <option value="4">4</option>
            <option value="5">5(Strongly Agree)</option>
        </select>
    </div>

    <div class="formgroup">
        <label>
            <h1> Question 7: </h1>If asked what the greatest invention of all time is, I'd have to say the computer.
            When you think about all they can do...
        </label>
        <select id="quest7">
            <option value="1">1(Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3(mayyyyyyyyyyyyybe)</option>
            <option value="4">4</option>
            <option value="5">5(Strongly Agree)</option>
        </select>
    </div>

    <div class="formgroup">
        <label>
            <h1> Question 8: </h1>Ever been to Cincinnati? They have their own type of chili over there but if I'm being
            totally honest, it's kind of nasty...

        </label>
        <select id="quest8">
            <option value="1">1(Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3(mayyyyyyyyyyyyybe)</option>
            <option value="4">4</option>
            <option value="5">5(Strongly Agree)</option>
        </select>
    </div>

    <div class="formgroup">
        <label>
            <h1> Question 9: </h1>bees
        </label>
        <select id="quest9">
            <option value="1">1(Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3(mayyyyyyyyyyyyybe)</option>
            <option value="4">4</option>
            <option value="5">5(Strongly Agree)</option>
        </select>
    </div>

    <div>
        <label>
            <h1> Question 10: </h1>Complete the following quotation: "The only thing we have to fear is fear itself" â€”
            FDR
        </label>
        <select id="questionOne">
            <option value="1">1(Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3(mayyyyyyyyyyyyybe)</option>
            <option value="4">4</option>
            <option value="5">5(Strongly Agree)</option>
        </select>
    </div>

    <button class="btn btn-primary" type="submit">Click here to have your mind blown!</button>

    <div class="modal" id="mainModal" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Modal title</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p>Modal body text goes here.</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary">Save changes</button>
                </div>
            </div>
        </div>
    </div>

    </div>

    <br />
    <br />

    <script type="text/javascript">
        $("#submit").on("click", function() {
            function validateForm() {
                let isValid = true;
                $(".form-control").each(function() {
                    if ($(this).val() === "") isValid = false;
                });
                $(".chosen-select").each(function() {
                    if ($(this).val() === "") isValid = false;
                });
                return isValid;
            }
            if (validateForm() === true) {
                let userData = {
                    name: $("name").val();
                    photo: $("photo").val(),
                    scores: [
                        $("#quest1").val(),
                        $("#quest2").val(),
                        $("#quest3").val(),
                        $("#quest4").val(),
                        $("#quest5").val(),
                        $("#quest6").val(),
                        $("#quest7").val(),
                        $("#quest8").val(),
                        $("#quest9").val(),
                        $("#quest10").val(),
                    ]
                };
                let currenURL = window.location.origin;
                $.post(currentURL + "/api/friends", newUser, function(data) {
                    $("#matchName").text(data.name);
                    $("#matchPic").attr("src", data.photo);
                    $("#modal fade").modal("toggle");
                })
                $('#mainModal').modal();
            } else {
                alert("All fields must be filled out to get your result which will blow your mind");
            }
            return false;
        });
    </script>
</body>

</html>